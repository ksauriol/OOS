drop database if exists bank;
create database bank;
use bank;

create table Profiles(
    profileID       integer primary key auto_increment,
    firstName       varchar(50),
    middleName      varchar(50),
    lastName        varchar(50),
    email           varchar(50) unique,
    phone           varchar(15),
    gender          varchar(6),
    address         varchar(100),
    dob             date,
    profileType     enum('member', 'employee'),
    constraint un_member2 unique (firstName, middleName, lastName, email)
);

create table OnlineAccount(
    onlineID        integer primary key auto_increment,
    userName        varchar(50) unique not null,
    email           varchar(50) unique not null,
    password        varchar(255) not null,
    profileID        integer unique not null,
    foreign key (profileID) references Profiles (profileID) on delete cascade
);

insert into Profiles (firstName, middleName, lastName, email, phone, gender, address, dob, profileType)
    values ('Bob', null, 'Roberts', 'bob@email.com', '210-555-2364', 'male', '214 De Zevala, San Antonio, TX 78249', '1987-02-14', 'member');
insert into Profiles (firstName, middleName, lastName, email, phone, gender, address, dob, profileType)
    values ('Sarah', 'Katherine', 'Kinsberg', 'sarah@email.com', '210-555-5887', 'female', '536 Lasseter Dr, MO 63044', '1982-10-01', 'member');
insert into Profiles (firstName, middleName, lastName, email, phone, gender, address, dob, profileType)
    values ('Daniel', 'Jonathan', 'Jacobson', 'daniel@email.com', '210-555-1059', 'male', '482 Sugar Ln, San Antonio, TX 78249', '1992-11-12', 'employee');
